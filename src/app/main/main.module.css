/* src/app/main/main.module.css (최종 완성 버전) */

/* =================================================================== */
/*  1. 기본 레이아웃 & 폰트
/* =================================================================== */

.container {
  display: grid;
  grid-template-columns: 280px 1fr;
  height: 100vh;
  background-color: #212121;
  color: #e0e0e0;
  font-size: 14px;
}

.rightContent {
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

.mainContent {
  padding: 1.5rem;
  display: grid;
  grid-template-rows: auto 1fr; /* 검색 패널(auto) / 하단 섹션(나머지 전체) */
  gap: 1.5rem;
  overflow: hidden; /* 이 영역 자체는 스크롤되지 않음 */
}


/* =================================================================== */
/*  2. 왼쪽 사이드바
/* =================================================================== */

.sidebar {
  padding: 1.5rem;
  background-color: #333;
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
  border-right: 1px solid #444;
}

.logo {
  font-size: 2rem;
  font-weight: bold;
  color: white;
  text-align: center;
  margin-bottom: 1rem;
}

.logo span {
  color: #dc3545;
}

.filterSection, .filterGroup {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.filterGroup label {
  font-weight: bold;
  color: #ccc;
}

.dateRange {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}


/* =================================================================== */
/*  3. 오른쪽 상단 헤더
/* =================================================================== */

.header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0.8rem 1.5rem;
  background-color: #333;
  border-bottom: 1px solid #444;
  flex-shrink: 0;
}

.userInfo {
  display: flex;
  align-items: center;
  gap: 1rem;
}


/* =================================================================== */
/*  4. 공통 컴포넌트 스타일 (패널, 버튼, 입력창 등)
/* =================================================================== */

.panel {
  background-color: #333;
  border-radius: 8px;
  padding: 1.5rem;
  border: 1px solid #444;
  display: flex;
  flex-direction: column;
}

.panelTitle {
  font-size: 1.2rem;
  font-weight: bold;
  margin-bottom: 1.5rem;
  border-left: 3px solid #dc3545;
  padding-left: 0.8rem;
  flex-shrink: 0;
}

.input, .select {
  background-color: #424242;
  border: 1px solid #555;
  color: white;
  padding: 0.5rem 0.8rem;
  border-radius: 4px;
  width: 100%;
}

.inputGroup {
  display: flex;
  align-items: center;
  gap: 1rem;
}

.button, .logoutButton {
  background-color: #555;
  color: white;
  border: none;
  padding: 0.5rem 1rem;
  border-radius: 4px;
  cursor: pointer;
  transition: background-color 0.2s;
  white-space: nowrap;
}

.button:hover, .logoutButton:hover {
  background-color: #666;
}

.redButton { background-color: #dc3545; }
.redButton:hover { background-color: #c82333; }
.blueButton { background-color: #3182ce; }
.blueButton:hover { background-color: #2b6cb0; }


/* =================================================================== */
/*  5. 세부 영역별 스타일
/* =================================================================== */

.searchPanel {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.bottomSection {
  display: grid;
  grid-template-columns: 1fr 1.2fr;
  gap: 1.5rem;
  overflow: hidden;
}

/* --- 왼쪽 & 오른쪽 컬럼 레이아웃 --- */
.leftColumn, .rightColumn {
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
  overflow: hidden;
}


/* --- 테이블 관련 스타일 --- */

/* [핵심] 테이블을 포함하는 모든 패널에 적용 */
.resultsPanel {
  min-height: 0; /* flexbox의 높이 계산 오류 방지 */
  overflow: hidden; /* 내부 스크롤을 위해 필수 */
}

/* [핵심] 환자 목록 패널: 고정된 높이를 가짐 */
.patientListPanel {
  flex-basis: 30vh; /* 화면 높이의 30%를 기본 높이로 설정 (값 조절 가능) */
  flex-shrink: 0; /* 공간이 부족해도 줄어들지 않음 */
}

/* [핵심] 검사 목록 패널: 남은 공간을 모두 차지함 */
.studyListPanel {
  flex-grow: 1; /* 남은 모든 공간을 차지 */
}

.resultsPanel table {
  width: 100%;
  border-collapse: collapse;
}

.resultsPanel th, .resultsPanel td {
  padding: 0.8rem;
  text-align: left;
  border-bottom: 1px solid #424242;
  white-space: nowrap;
}

.resultsPanel th {
  background-color: #2a2a2a;
  position: sticky; /* 스크롤 시 상단에 고정 */
  top: 0;
  z-index: 1;
}

.resultsPanel tbody tr {
  cursor: pointer;
  transition: background-color 0.2s;
}

.resultsPanel tbody tr:hover {
  background-color: #4a4a4a;
}

.selectedRow {
  background-color: #c82333 !important;
  color: white;
}

/* [핵심] 패널 내부에서 실제 스크롤을 담당하는 컨테이너 */
.tableContainer {
  flex-grow: 1;
  overflow-y: auto;
  min-height: 0;
}


/* --- 상세 정보 및 리포트 패널 --- */
.patientInfo {
  display: flex;
  gap: 2rem;
  margin-bottom: 1rem;
}

.infoItem {
  color: #ccc;
  font-size: 0.95rem;
  padding-left: 10px;
  border-left: 3px solid #e53e3e; 
}

.infoItem strong {
  color: #f0f0f0;
}

.historyTable {
  width: 100%;
  margin-top: 1rem;
  border-collapse: collapse;
}

.historyTable th,
.historyTable td {
  border: 1px solid #555;
  padding: 8px;
  text-align: left;
  font-size: 0.9rem;
}

.historyTable th { background-color: #4A5568; color: #E2E8F0; }
.historyTable td { background-color: #2D3748; color: #CBD5E0; }

.reportPanel {
  flex-grow: 1; /* 오른쪽 컬럼에서 남은 공간을 모두 차지 */
}

.reportPanel .reportTextarea {
  width: 100%;
  height: 100%; /* 부모 요소에 맞춰 높이 조절 */
  min-height: 150px;
  background-color: #424242;
  border: 1px solid #555;
  color: white;
  padding: 0.8rem;
  border-radius: 4px;
  resize: vertical;
  margin-top: 0.5rem;
}

.placeholderText {
  color: #888;
  text-align: center;
  margin-top: 2rem;
}